## 命令
- [命令](#命令)
  - [说明](#说明)
  - [调用cmd.exe执行一条命令](#调用cmdexe执行一条命令)
  - [在服务器中执行命令](#在服务器中执行命令)
  - [发送私聊消息](#发送私聊消息)
  - [发送群聊消息](#发送群聊消息)

### 说明
- 所有命令格式为``<命令名称>[:<参数>]|<执行内容>``  
- 命令的前半部分不区分大小写   
- ``|``为竖线（分隔线）（U+007C，不是中文的``丨``gǔn）  
- ``<>``表示必选内容   
- ``[]``表示为可选内容 

---

### 调用cmd.exe执行一条命令   
``cmd|<命令>``   
运行结束后自动结束cmd进程
- 默认窗口编码：``936 ANSI/GBK``  
- 工作目录：``Serein.exe``所在目录  
- 显示窗口：否  

>Tips：  
 可搭配使用``7za.exe``(https://www.7-zip.org/download.html)实现压缩功能  
 可通过``echo.[文本内容]>>example.txt``实现写入文本
  
---
### 在服务器中执行命令
``s|<命令>``   
``server|<命令>``   
- 若服务器未启动则不执行 
- 新增服务器内置指令：  
> ``start`` 启动服务器  
*仅当服务器未启动时能被触发  

``s:u|<命令>``    
``server:u|<命令>``  
``s:unicode|<命令>``     
``server:unicode|<命令>``  
- 同上
- 将命令中的非ASCII的字符转换为Unicode字符输出，适用于`tellraw`等使用json文本的命令

---
### 发送私聊消息
``p|<消息>``  
``private|<消息>``  
发送一条消息给触发此命令的用户
- 以上两项只能由正则匹配到私聊或群聊消息时触发，发送对象为触发这项正则的用户
- 若触发对象不是机器人好友或账号不存在可能无法发送
- 若Websocket未连接则不发送  


``p:<QQ>|<消息>``  
``private:<QQ>|<消息>``  
发送一条消息给指定用户
- 若触发对象不是机器人好友或账号不存在可能无法发送
- 若Websocket未连接则不发送

---
### 发送群聊消息
``g|<消息>``  
``group|<消息>``  
发送一条消息到触发此命令的群聊或默认群聊
- 当正则匹配的到群聊消息时，发送对象为触发这条消息的群聊
- 当正则匹配的到私聊消息时，不发送消息
- 其他情况下则发送至``设置-监听群列表``的第一项，若此项为空不发送
- 若机器人未入群或被禁言则发送失败
- 若Websocket未连接则不发送

``g:<QQ>|<消息>``  
``group:<QQ>|<消息>``  
发送一条消息给指定群聊
- 若机器人未入群或被禁言则发送失败
- 若Websocket未连接则不发送

